Nov-03 22:28:59.884 [main] DEBUG nextflow.cli.Launcher - $> nextflow run amr_simulate.nf --input_data test/data/test_input.csv --insertion_genes test/data/insert_seqs.fna -resume
Nov-03 22:29:00.207 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 21.04.3
Nov-03 22:29:00.253 [main] INFO  nextflow.cli.CmdRun - Launching `amr_simulate.nf` [trusting_payne] - revision: bf98c2f96e
Nov-03 22:29:00.421 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; plugins-dir=/home/fin/.nextflow/plugins
Nov-03 22:29:00.423 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[]
Nov-03 22:29:00.428 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins local root: .nextflow/plr/empty
Nov-03 22:29:00.446 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Nov-03 22:29:00.448 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Nov-03 22:29:00.454 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Nov-03 22:29:00.471 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Nov-03 22:29:00.561 [main] DEBUG nextflow.Session - Session uuid: 6b12e557-192a-4b75-864a-7c11c3b44261
Nov-03 22:29:00.561 [main] DEBUG nextflow.Session - Run name: trusting_payne
Nov-03 22:29:00.564 [main] DEBUG nextflow.Session - Executor pool size: 4
Nov-03 22:29:00.591 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 21.04.3 build 5560
  Created: 21-07-2021 15:09 UTC (11:09 EDT)
  System: Linux 5.14.12-arch1-1
  Runtime: Groovy 3.0.7 on OpenJDK 64-Bit Server VM 1.8.0_292-b10
  Encoding: UTF-8 (UTF-8)
  Process: 44246@dahzbog [127.0.1.1]
  CPUs: 4 - Mem: 15.5 GB (408.6 MB) - Swap: 4 GB (4 GB)
Nov-03 22:29:00.731 [main] DEBUG nextflow.Session - Work-dir: /home/fin/Documents/research/bioinformatics/amr_metagenome_simulator/work [ext2/ext3]
Nov-03 22:29:00.776 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[]
Nov-03 22:29:00.802 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Nov-03 22:29:01.316 [main] DEBUG nextflow.Session - Session start invoked
Nov-03 22:29:03.195 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Nov-03 22:29:03.272 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: SIMULATE_READS, INSERT_GENES, SPLIT_INSERT_GENES, COPY_NUMBER, ANNOTATE_AMR, GET_LABELS
Nov-03 22:29:03.519 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Nov-03 22:29:03.520 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Nov-03 22:29:03.528 [main] DEBUG nextflow.executor.Executor - [warm up] executor > local
Nov-03 22:29:03.535 [main] DEBUG n.processor.LocalPollingMonitor - Creating local task monitor for executor 'local' > cpus=4; memory=15.5 GB; capacity=4; pollInterval=100ms; dumpInterval=5m
Nov-03 22:29:03.713 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Nov-03 22:29:03.714 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Nov-03 22:29:03.726 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Nov-03 22:29:03.726 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Nov-03 22:29:03.733 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Nov-03 22:29:03.734 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Nov-03 22:29:03.788 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Nov-03 22:29:03.790 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Nov-03 22:29:03.804 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: null
Nov-03 22:29:03.804 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'local'
Nov-03 22:29:03.818 [main] DEBUG nextflow.Session - Ignite dataflow network (8)
Nov-03 22:29:03.858 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SPLIT_INSERT_GENES
Nov-03 22:29:03.862 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > INSERT_GENES
Nov-03 22:29:03.864 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > ANNOTATE_AMR
Nov-03 22:29:03.868 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > COPY_NUMBER
Nov-03 22:29:03.873 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > SIMULATE_READS
Nov-03 22:29:03.880 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > GET_LABELS
Nov-03 22:29:03.885 [main] DEBUG nextflow.script.ScriptRunner - > Await termination 
Nov-03 22:29:03.885 [main] DEBUG nextflow.Session - Session await
Nov-03 22:29:04.285 [Task submitter] DEBUG nextflow.executor.LocalTaskHandler - Launch cmd line: /bin/bash -ue .command.run
Nov-03 22:29:04.301 [Task submitter] INFO  nextflow.Session - [5b/f3afb5] Submitted process > SPLIT_INSERT_GENES (1)
Nov-03 22:29:04.911 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: SPLIT_INSERT_GENES (1); status: COMPLETED; exit: 1; error: -; workDir: /home/fin/Documents/research/bioinformatics/amr_metagenome_simulator/work/5b/f3afb5a0f873180d8037fe767c2a78]
Nov-03 22:29:04.969 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'SPLIT_INSERT_GENES (1)'

Caused by:
  Process `SPLIT_INSERT_GENES (1)` terminated with an error exit status (1)

Command executed:

  split_insertion_genes.py --input_fasta insert_seqs.fna --number_of_chunks 2

Command exit status:
  1

Command output:
  2

Command error:
  Traceback (most recent call last):
    File "/home/fin/Documents/research/bioinformatics/amr_metagenome_simulator/bin/split_insertion_genes.py", line 45, in <module>
      for i in range(empty_samples):
  NameError: name 'empty_samples' is not defined

Work dir:
  /home/fin/Documents/research/bioinformatics/amr_metagenome_simulator/work/5b/f3afb5a0f873180d8037fe767c2a78

Tip: view the complete command output by changing to the process work dir and entering the command `cat .command.out`
Nov-03 22:29:04.999 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `SPLIT_INSERT_GENES (1)` terminated with an error exit status (1)
Nov-03 22:29:05.023 [Actor Thread 1] DEBUG nextflow.file.SortFileCollector - FileCollector temp dir not removed: null
Nov-03 22:29:05.025 [Actor Thread 6] DEBUG nextflow.file.SortFileCollector - FileCollector temp dir not removed: null
Nov-03 22:29:05.029 [main] DEBUG nextflow.Session - Session await > all process finished
Nov-03 22:29:05.067 [main] DEBUG nextflow.Session - Session await > all barriers passed
Nov-03 22:29:05.085 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=554ms; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=1; peakCpus=1; peakMemory=0; ]
Nov-03 22:29:05.489 [main] DEBUG nextflow.CacheDB - Closing CacheDB done
Nov-03 22:29:05.523 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
